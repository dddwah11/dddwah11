
<!DOCTYPE html>
<html lang="en ">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>61分 || vue2</title>
    <meta name="author" content="小刘">
    <meta name="description" content=" ">
    <meta name="keywords" content=" ">
    <link rel="icon" href="/images/src.jpeg">
    <link rel="stylesheet" href="/css/antd.min.css">
    
    <link rel="stylesheet" href="/css/full-theme.css">
    
    <script src="/js/vue.js"></script>
    <script src="/js/antd.min.js"></script>
<meta name="generator" content="Hexo 6.1.0"></head>

<body>

    <div id="loading"
        style="height: 100vh; width: 100%; position: fixed;display: flex;z-index: 200; justify-content: space-between;">
        <div id="loadleft" style="width: 50%;background-color: #ffffff;transition: width 0.6s ease-out;"></div>
        <div id="loadright" style="width: 50%;background-color: #ffffff;transition: width 0.6s ease-out;"></div>
        <div
            style="position: fixed; height: 100vh; width: 100%;display: flex;justify-content: center;align-items: center;">
            <div id="loadcontent"
                style="width:400px;height:400px;padding:50px;border-radius:50%;display:flex;justify-content:center;align-items:center;border:solid 10px#a3ddfb; text-align:center;opacity:1;transition:opacity 0.3s ease-out;">
                <div>
                    <h2>LOADING...</h2>
                    <p>加载过慢请开启缓存(浏览器默认开启)</p>
                    <div>
                        <img src="/dancingkitty.gif" alt="loading">
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="layout">
        <transition name="into">
            <div v-show="show_page" style="display: none;">
                <div id="menu_show">
                     
<nav id="menu">
    <div class="desktop-menu">
        <a href="/">
            <span class="title">61分</span>
        </a>
        
        <a href="/">
            <span>
                <a-icon type="home" theme="filled" />
            </span>
            <span>首页</span>
        </a>
        
        <a href="/about">
            <span>
                <a-icon type="about" theme="filled" />
            </span>
            <span>关于</span>
        </a>
        
        <a href="/archives">
            <span>
                <a-icon type="archives" theme="filled" />
            </span>
            <span>文档</span>
        </a>
        
        <a href="/like/categories">
            <span>
                <a-icon type="categories" theme="filled" />
            </span>
            <span>类别</span>
        </a>
        
        <a href="/like/tags">
            <span>
                <a-icon type="tags" theme="filled" />
            </span>
            <span>标签</span>
        </a>
        
    </div>

    <div :class="'phone-menu ' + menu_show" id="phone-menu">
        <div :class="'title'" @click="menu_show=!menu_show">
            <span style="margin-right: 10px;">
                <a-icon type="appstore" theme="filled" />
            </span>
            <span>61分</span>
        </div>
        <div class="items" v-show="menu_show">
            
            <a href="/">
                <div class="item">
                    <div style="min-width:20px; max-width:50px; width: 10%">
                        <a-icon type="home" theme="filled" />
                    </div>
                    <div style="min-width:100px;max-width: 150%;width: 20%;">首页</div>
                </div>
            </a>
            
            <a href="/about">
                <div class="item">
                    <div style="min-width:20px; max-width:50px; width: 10%">
                        <a-icon type="about" theme="filled" />
                    </div>
                    <div style="min-width:100px;max-width: 150%;width: 20%;">关于</div>
                </div>
            </a>
            
            <a href="/archives">
                <div class="item">
                    <div style="min-width:20px; max-width:50px; width: 10%">
                        <a-icon type="archives" theme="filled" />
                    </div>
                    <div style="min-width:100px;max-width: 150%;width: 20%;">文档</div>
                </div>
            </a>
            
            <a href="/like/categories">
                <div class="item">
                    <div style="min-width:20px; max-width:50px; width: 10%">
                        <a-icon type="categories" theme="filled" />
                    </div>
                    <div style="min-width:100px;max-width: 150%;width: 20%;">类别</div>
                </div>
            </a>
            
            <a href="/like/tags">
                <div class="item">
                    <div style="min-width:20px; max-width:50px; width: 10%">
                        <a-icon type="tags" theme="filled" />
                    </div>
                    <div style="min-width:100px;max-width: 150%;width: 20%;">标签</div>
                </div>
            </a>
            
        </div>
        <div class="curtain" v-show="menu_show"></div>
    </div>

</nav>
                </div>

                <div id="main">
                     
<link rel="stylesheet" href="/css/post-body.css">
<div class="article">
    <div>
        <h1>vue2 </h1>
    </div>
    <div class="info">
        <span class="date">
            <span class="icon">
                <a-icon type="calendar" theme="filled" />
            </span>
            2022/4/26
        </span>

        

        
    </div>

    <div class="content" v-pre>
        <h1 id="vue-cli脚手架"><a href="#vue-cli脚手架" class="headerlink" title="vue cli脚手架"></a>vue cli脚手架</h1><pre><code class="bash">npm install -g @vue/cli
</code></pre>
<h1 id="创建一个vue项目"><a href="#创建一个vue项目" class="headerlink" title="创建一个vue项目"></a>创建一个vue项目</h1><pre><code class="bash">vue create project-name
</code></pre>
<h1 id="项目结构"><a href="#项目结构" class="headerlink" title="项目结构"></a>项目结构</h1><h2 id="main-js"><a href="#main-js" class="headerlink" title="main.js"></a><strong>main.js</strong></h2><pre><code class="js">import &#123; createApp &#125; from &#39;vue&#39;
import App from &#39;./App.vue&#39;

// 根组件
createApp(App).mount(&#39;#app&#39;)
</code></pre>
<p><strong>main.js 会创建我们vue的实例，挂载会帮我们创建根组件的实例vm</strong></p>
<h2 id="APP-vue"><a href="#APP-vue" class="headerlink" title="APP.vue"></a>APP.vue</h2><pre><code class="js">&lt;template&gt;
  &lt;img alt=&quot;Vue logo&quot; src=&quot;./assets/logo.png&quot;&gt;
  &lt;HelloWorld msg=&quot;Welcome to Your Vue.js App&quot;/&gt;
&lt;/template&gt;

&lt;script&gt;
import HelloWorld from &#39;./components/HelloWorld.vue&#39;

export default &#123;
  name: &#39;App&#39;,
  components: &#123;
    HelloWorld
  &#125;
&#125;
&lt;/script&gt;

&lt;style&gt;
#app &#123;
  font-family: Avenir, Helvetica, Arial, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-align: center;
  color: #2c3e50;
  margin-top: 60px;
&#125;
&lt;/style&gt;
</code></pre>
<h1 id="webpack"><a href="#webpack" class="headerlink" title="webpack"></a>webpack</h1><h1 id="Vite"><a href="#Vite" class="headerlink" title="Vite"></a>Vite</h1><p><a target="_blank" rel="noopener" href="https://cn.vitejs.dev/">Vite</a> 是一个 web 开发构建工具，由于其原生 ES 模块导入方式，可以实现闪电般的冷服务器启动。</p>
<p>通过在终端中运行以下命令，可以使用 Vite 快速构建 Vue 项目。</p>
<p>使用 npm：</p>
<pre><code class="bash"># npm 6.x
$ npm init vite@latest &lt;project-name&gt; --template vue

# npm 7+，需要加上额外的双短横线
$ npm init vite@latest &lt;project-name&gt; -- --template vue

$ cd &lt;project-name&gt;
$ npm install
$ npm run serve/dev
</code></pre>
<p>安装依赖</p>
<pre><code class="bash">npm install
安装vue-router
npm install vue-router@4
安装element-ui
npm install --legacy-peer-deps element-ui --save
安装 SASS 加载器
cnpm install sass-loader node-sass --save-dev
启动测试
npm run serve/dev
</code></pre>
<p>创建modules目录</p>
<p>在文件目录下 运行 webpack</p>
<p>创建index.html并引入</p>
<pre><code class="html">&lt;script src =&quot;dist/js/bundle.js&quot;&gt;&lt;/script&gt;
</code></pre>
<h1 id="axios"><a href="#axios" class="headerlink" title="axios"></a>axios</h1><pre><code class="bash">npm add axois
</code></pre>
<pre><code class="js">import axios from &#39;axios&#39;;
mounted()&#123;
    getData()&#123;
      axios.get(&quot;xxx&quot;).then(res =&gt;&#123;

      &#125;)
    &#125;
</code></pre>
<h1 id="vue-router"><a href="#vue-router" class="headerlink" title="vue_router"></a>vue_router</h1><p>安装vue-router到项目目录</p>
<pre><code class="bash">npm install vue-router@4 -s/安装在本地项目，在packge.json中
</code></pre>
<p><strong>使用cdn</strong></p>
<pre><code class="html">&lt;script src=&quot;https://unpkg.com/vue@3&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;https://unpkg.com/vue-router@4&quot;&gt;&lt;/script&gt;

&lt;div id=&quot;app&quot;&gt;
  &lt;h1&gt;Hello App!&lt;/h1&gt;
  &lt;p&gt;
    &lt;!-- use the router-link component for navigation. --&gt;
    &lt;!-- specify the link by passing the `to` prop. --&gt;
    &lt;!-- `&lt;router-link&gt;` will render an `&lt;a&gt;` tag with the correct `href` attribute --&gt;
    &lt;router-link to=&quot;/&quot;&gt;Go to Home&lt;/router-link&gt;
    &lt;router-link to=&quot;/about&quot;&gt;Go to About&lt;/router-link&gt;
  &lt;/p&gt;
  &lt;!-- route outlet --&gt;
  &lt;!-- component matched by the route will render here --&gt;
  &lt;router-view&gt;&lt;/router-view&gt;
&lt;/div&gt;
</code></pre>
<p><strong>报错</strong></p>
<p><strong>error  Component name “About” should always be multi-word  vue&#x2F;multi-word-component-names</strong></p>
<p>在vue.config.js文件中添加</p>
<pre><code class="js">const &#123; defineConfig &#125; = require(&#39;@vue/cli-service&#39;)
module.exports = defineConfig(&#123;
    transpileDependencies: true,
    lintOnSave:false
&#125;)
</code></pre>
<p><strong>在Vue脚手架当中</strong></p>
<p><strong>main.js中</strong></p>
<pre><code class="js">import &#123; createApp &#125; from &#39;vue&#39;
import App from &#39;./App.vue&#39;
import &#123; createRouter, createWebHashHistory&#125; from &#39;vue-router&#39; //从vue-router中解构 花括号中的两个方法
import Hhome from &#39;./components/Hhome.vue&#39;
import Ahbout from &#39;./components/Ahbout.vue&#39;
// 2. 定义一些路由
// 每个路由都需要映射到一个组件。
// 我们后面再讨论嵌套路由。
const routes = [
    &#123; path: &#39;/&#39;, component: Hhome &#125;,
    &#123; path: &#39;/about&#39;, component: Ahbout &#125;,
]

// 3. 创建路由实例并传递 `routes` 配置
// 你可以在这里输入更多的配置，但我们在这里
// 暂时保持简单
const router = createRouter(&#123;
    // 4. 内部提供了 history 模式的实现。为了简单起见，我们在这里使用 hash 模式。
    history: createWebHashHistory(),
    routes, // `routes: routes` 的缩写
&#125;)

// 根组件
let app = createApp(App).use(router);
app.mount(&#39;#app&#39;)
</code></pre>
<p><strong>APP.vue中</strong></p>
<pre><code class="vue">&lt;template&gt;
  &lt;img alt=&quot;Vue logo&quot; src=&quot;./assets/logo.png&quot; /&gt;
  &lt;h1&gt;Hello App!&lt;/h1&gt;
  &lt;p&gt;
    &lt;!-- use the router-link component for navigation. --&gt;
    &lt;!-- specify the link by passing the `to` prop. --&gt;
    &lt;!-- `&lt;router-link&gt;` will render an `&lt;a&gt;` tag with the correct `href` attribute --&gt;
    &lt;router-link to=&quot;/&quot;&gt;Go to Home&lt;/router-link&gt;
    &lt;router-link to=&quot;/about&quot;&gt;Go to About&lt;/router-link&gt;
  &lt;/p&gt;
  &lt;!-- route outlet --&gt;
  &lt;!-- component matched by the route will render here --&gt;
  &lt;router-view&gt;&lt;/router-view&gt;
&lt;/template&gt;

&lt;script&gt;
import home from &quot;./components/Hhome.vue&quot;;
import about from &quot;./components/Ahbout.vue&quot;;
export default &#123;
  name: &quot;App&quot;,
  components: &#123;
    home,
    about
  &#125;,
&#125;;
&lt;/script&gt;

&lt;style&gt;
#app &#123;
  font-family: Avenir, Helvetica, Arial, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-align: center;
  color: #2c3e50;
  margin-top: 60px;
&#125;
&lt;/style&gt;
</code></pre>
<p><strong>代码改造</strong></p>
<p>解决路由过多</p>
<ul>
<li>新建router目录，在其下新建index.js改造代码</li>
</ul>
<pre><code class="js">//完成路由相关的工作
import &#123; createRouter, createWebHashHistory&#125; from &#39;vue-router&#39; //从vue-router中解构 花括号中的两个方法
import Hhome from &#39;../components/Hhome.vue&#39;
import Ahbout from &#39;../components/Ahbout.vue&#39;
// 2. 定义一些路由
// 每个路由都需要映射到一个组件。
// 我们后面再讨论嵌套路由。
const routes = [
    &#123; path: &#39;/&#39;, component: Hhome &#125;,
    &#123; path: &#39;/about&#39;, component: Ahbout &#125;,
]

// 3. 创建路由实例并传递 `routes` 配置
// 你可以在这里输入更多的配置，但我们在这里
// 暂时保持简单
const router = createRouter(&#123;
    // 4. 内部提供了 history 模式的实现。为了简单起见，我们在这里使用 hash 模式。
    history: createWebHashHistory(),
    routes, // `routes: routes` 的缩写
&#125;)

//暴露一个router方法给main.js
export default router
</code></pre>
<ul>
<li><strong>main.js中</strong></li>
</ul>
<pre><code class="js">import &#123; createApp &#125; from &#39;vue&#39;
import App from &#39;./App.vue&#39;
import router from &#39;./router&#39;
// 根组件
let app = createApp(App).use(router);
app.mount(&#39;#app&#39;)
</code></pre>
<p>这样分工就十分明确了！</p>
<h2 id="动态路由匹配"><a href="#动态路由匹配" class="headerlink" title="动态路由匹配"></a>动态路由匹配</h2><p>router下的index.js</p>
<pre><code class="js">&#123;path: &#39;/user/:id&#39;, component: use&#125;
</code></pre>
<p>通过组件传参</p>
<pre><code class="js">&lt;div&gt;my id is &#123;&#123;$router.params.id&#125;&#125;&lt;/div&gt;
</code></pre>
<p>总组件中</p>
<pre><code class="vue">&lt;template&gt;
&lt;router-link to=&quot;/user/13&quot;&gt;13&lt;/router-link&gt; |
 &lt;router-link to=&quot;/user/12&quot;&gt;12&lt;/router-link&gt; |
&lt;/template&gt;
</code></pre>
<h1 id="Element-ui"><a href="#Element-ui" class="headerlink" title="Element ui"></a>Element ui</h1>
    </div>

    
</div>
                     
<footer id="footer">
    <div class="footer-wrap">
        <div>
            © 2018 - 2022 61分
            <span class="footer-icon">
                <a-icon type="flag" theme="filled" /></span>
            @小刘
        </div>
        <div></div>
        <div>Based on the <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo Engine</a> & <a
                target="_blank" rel="noopener" href="https://github.com/korilin/hexo-theme-particle">Particle Theme</a></div>
        
    </div>

</footer>

<script src="/js/highlight.min.js"></script>
<script src="/js/particle.js"></script>
                </div>
            </div>
        </transition>
    </div>

    <script>
    new Vue({
        el: "#layout",
        data: {
            show_page: false,
            onload_menu: false,
            menu_show: false,
            card_top: 100
        },
        created: function () {
            var that = this
            window.onload = function () {
                that.show_page = true
                document.getElementById("loadcontent").style.opacity = 0
                setTimeout(function () {
                    document.getElementById("loadleft").style.width = 0
                    document.getElementById("loadright").style.width = 0
                }, 300)
                setTimeout(function () {
                    document.getElementById("loading").style = "display:none"
                }, 600)
            }
        },
        mounted: function () {
            var that = this
            window.addEventListener('scroll', function (e) {
                that.menu_show = false
            })
        },
        methods: {
            home_click: function () {
                window.scrollTo({
                    top: window.innerHeight - 80,
                    behavior: "smooth",
                });
            }
        }
    })
</script>

</body>

</html>